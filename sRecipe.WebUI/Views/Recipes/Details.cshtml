@model sRecipe.WebUI.Models.RecipeViewModel

@{
    ViewBag.Title = "Recipe Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Details</h2>

<div>
    <h4>Recipe</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Cooking_Time)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Cooking_Time)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Number_of_Services)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Number_of_Services)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Calorie)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Calorie)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.MealTypeName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.MealTypeName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Viewed)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Viewed)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PostTime)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PostTime)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.isPublic)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.isPublic)
        </dd>

        @*<dt>
                @Html.DisplayNameFor(model => model.PictureId)
            </dt>*@

        @*<dd>
                @Html.DisplayFor(model => model.PictureId)
            </dd>*@

    </dl>
</div>
@if (User != null && (User.UserId == Model.UserId || User.Role == sRecipe.Repository.Entities.Role.Administrator))
{
    Html.RenderAction("Edit", "Directions", new { recipeId = Model.Id });

    Html.RenderAction("Edit", "Ingredients", new { recipeId = Model.Id });

    Html.RenderAction("List", "Comments", new { recipeId = Model.Id, owner = true });

}
else
{
    Html.RenderAction("List", "Directions", new { recipeId = Model.Id });

    Html.RenderAction("List", "Ingredients", new { recipeId = Model.Id });

    Html.RenderAction("List", "Comments", new { recipeId = Model.Id, owner = false });

}

<p>
    @if (ViewBag.ReturnSearch)
    {
        @Html.ActionLink("Back to Search", "Search")
    }
    else
    {
        @Html.ActionLink("Back to List", "Index")
    }
</p>
